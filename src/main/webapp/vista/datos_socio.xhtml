<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/vista/template/default.xhtml">
	<ui:define name="title">
		<h:outputText value="#{res['datos_socio.titulo']}" />
	</ui:define>

	<ui:define name="leftPanel">
		<h1>
			<h:outputText value="#{res['datos_socio.header']}" escape="false" />
		</h1>

		<p>
			<h:outputFormat value="#{res['datos_socio.texto']}" escape="false" />
		</p>

		<style>
		#form label {
			color: black;
		}
		</style>

		<h:form id="formSocio" styleClass="form" style="text-align: center;">
			<p:panel header="Información del tutor">
				<h:panelGrid columns="2" columnClasses="label, value">
					<h:outputLabel for="tutor_nombre" styleClass="titleFieldRequired"
						value="#{res['socio.nombre']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:inputText autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_nombre"
							maxlength="16"
							value="#{loginController.socio.nombre}" required="true"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
						<p:message for="tutor_nombre" />
					</h:panelGroup>

					<h:outputLabel for="tutor_apellidos"
						styleClass="titleFieldRequired"
						value="#{res['socio.apellidos']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:inputText autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_apellidos"
							maxlength="25"
							value="#{loginController.socio.apellidos}" required="true"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
						<p:message for="tutor_apellidos" />
					</h:panelGroup>

					<h:outputLabel for="tutor_dni" styleClass="titleFieldRequired"
						value="#{res['socio.dni']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:inputText autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_dni"
							maxlength="11" value="#{loginController.socio.dni}"
							required="true"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
						<p:message for="tutor_dni" />
					</h:panelGroup>

					<h:outputLabel for="tutor_contraseña1" styleClass="titleFieldRequired"
						value="#{res['contraseña']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:password autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_contraseña1"
							maxlength="11" feedback="true"
							value="#{loginController.socio.contraseña}" required="true"
							match="tutor_contraseña2" label="#{res['contraseña']}"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}"
							validatorMessage="#{res['primefaces.password.INVALID_MATCH']}"
							promptLabel="#{res['contraseña.label']}"
							weakLabel="#{res['contraseña.debil']}"
							goodLabel="#{res['contraseña.buena']}"
							strongLabel="#{res['contraseña.fuerte']}"
							redisplay="true" />
						<p:message for="tutor_contraseña1" />
					</h:panelGroup>

					<h:outputLabel for="tutor_contraseña2" styleClass="titleFieldRequired"
						value="#{res['contraseña2']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:password autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_contraseña2"
							maxlength="11" feedback="true"
							value="#{loginController.socio.contraseña}" required="true"
							label="#{res['contraseña2']}"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}"
							validatorMessage="#{res['primefaces.password.INVALID_MATCH']}"
							promptLabel="#{res['contraseña.label']}"
							weakLabel="#{res['contraseña.debil']}"
							goodLabel="#{res['contraseña.buena']}"
							strongLabel="#{res['contraseña.fuerte']}"
							redisplay="true" />
						<p:message for="tutor_contraseña2" />
					</h:panelGroup>

					<h:outputLabel for="tutor_direccion"
						styleClass="titleFieldRequired"
						value="#{res['socio.direccion']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:inputText autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_direccion"
							maxlength="11"
							value="#{loginController.socio.direccion}" required="true"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
						<p:message for="tutor_direccion" />
					</h:panelGroup>

					<h:outputLabel for="tutor_telefono" styleClass="titleFieldRequired"
						value="#{res['socio.telefono']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:inputText autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_telefono"
							maxlength="9"
							value="#{loginController.socio.telefono}" required="true"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
						<p:message for="tutor_telefono" />
					</h:panelGroup>

					<h:outputLabel for="tutor_email" styleClass="titleFieldRequired"
						value="#{res['socio.email']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:inputText autocomplete="off"
							styleClass="fieldInputRequired" id="tutor_email"
							maxlength="9" value="#{loginController.socio.email}"
							required="true"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
						<p:message for="tutor_email" />
					</h:panelGroup>

					<!-- <h:outputLabel for="tutor_participar"
						styleClass="titleFieldRequired"
						value="#{res['socio.participar']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:selectOneButton id="tutor_participar"
							styleClass="fieldInputRequired"
							value="#{loginController.socio.participar}"
							valueChangeListener="#{loginController.participarChange}"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}">
							<f:selectItem itemLabel="#{res['si']}" itemValue="true" />
							<f:selectItem itemLabel="#{res['no']}" itemValue="false" />
						</p:selectOneButton>
						<p:message for="tutor_participar" />
					</h:panelGroup> -->

					<!-- <h:outputLabel for="tutor_envio_whatsapp"
						styleClass="titleFieldRequired"
						value="#{res['socio.envio.whatsapp']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:selectOneButton id="tutor_envio_whatsapp"
							styleClass="fieldInputRequired"
							value="#{loginController.envioWhatsapp}"
							valueChangeListener="#{loginController.envioWhatsappChange}"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}">
							<f:selectItem itemLabel="#{res['si']}" itemValue="true" />
							<f:selectItem itemLabel="#{res['no']}" itemValue="false" />
						</p:selectOneButton>
						<p:message for="tutor_envio_whatsapp" />
					</h:panelGroup> -->

					<!-- <h:outputLabel for="colaborar" styleClass="titleFieldRequired"
						value="#{res['colaborar']}:" escape="false" />
					<h:panelGroup layout="block">
						<p:selectOneButton id="colaborar" styleClass="fieldInputRequired"
							value="#{loginController.colaborar}"
							valueChangeListener="#{loginController.colaborarChange}"
							requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}">
							<f:selectItem itemLabel="#{res['si']}" itemValue="true" />
							<f:selectItem itemLabel="#{res['no']}" itemValue="false" />
						</p:selectOneButton>
						<p:message for="colaborar" />
					</h:panelGroup> -->
				</h:panelGrid>
			</p:panel>


			<p:dataList id="listAlumnos" widgetVar="listAlumnos"
			 	value="#{loginController.alumnos}" var="alumno"
			 	type="none" rows="1" styleClass="paginated"
				paginator="true" paginatorPosition="top">
				<f:facet name="header">
					<h:outputText value="#{res['datos_socio.alumnos']}"
						escape="false" />
				</f:facet>
				<f:facet name="footer">
					<h:outputText
						value="#{loginController.alumnos.size()} #{res['datos_socio.alumnos.encontrados']}"
						escape="false" />
				</f:facet>
				<p:panel>
					<f:facet name="footer">
						<h:outputFormat
							value="#{res['alumno.actual']} #{loginController.alumnos.indexOf(alumno)+1}"
							escape="false" style="font-weight: bold" />
					</f:facet>
					<h:panelGrid columns="2" columnClasses="label,value" >
						<h:outputLabel for="alumno_nombre" styleClass="titleFieldRequired"
							value="#{res['alumno.nombre']}:" escape="false" />
						<h:panelGroup layout="block">
							<p:inputText autocomplete="off"
								styleClass="fieldInputRequired" id="alumno_nombre"
								maxlength="16" value="#{alumno.nombre}"
								required="true"
								requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
							<p:message for="alumno_nombre" />
						</h:panelGroup>
	
						<h:outputLabel for="alumno_apellidos"
							styleClass="titleFieldRequired"
							value="#{res['alumno.apellidos']}:" escape="false" />
						<h:panelGroup layout="block">
							<p:inputText autocomplete="off"
								styleClass="fieldInputRequired"
								id="alumno_apellidos" maxlength="25"
								value="#{alumno.apellidos}" required="true"
								requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
							<p:message for="alumno_apellidos" />
						</h:panelGroup>
	
						<h:outputLabel for="alumno_edad" styleClass="titleFieldRequired"
							value="#{res['alumno.edad']}:" escape="false" />
						<h:panelGroup layout="block">
							<p:inputText autocomplete="off"
								styleClass="fieldInputRequired" id="alumno_edad"
								maxlength="11" value="#{alumno.edad}" required="true"
								requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}" />
							<p:message for="alumno_edad" />
						</h:panelGroup>
	
						<h:outputLabel for="alumno_curso_actual"
							styleClass="titleFieldRequired"
							value="#{res['alumno.curso.actual']}:"
							escape="false" />
						<h:panelGroup layout="block">
							<p:selectOneMenu id="alumno_curso_actual"
								styleClass="fieldInputRequired"
								value="#{alumno.cursoActual}"
								converter="genericConverter"
								required="true"
								requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}">
								<f:selectItems
									value="#{registroController.cursos}" var="cursoActual"
									itemLabel="#{cursoActual.nombre}" itemValue="#{cursoActual.id}" />
							</p:selectOneMenu>
							<p:message for="alumno_curso_actual" />
						</h:panelGroup>
	
						<h:outputLabel for="alumno_curso_futuro"
							styleClass="titleFieldRequired"
							value="#{res['alumno.curso.futuro']}:"
							escape="false" />
						<h:panelGroup layout="block">
							<p:selectOneMenu id="alumno_curso_futuro"
								styleClass="fieldInputRequired"
								value="#{alumno.cursoFuturo}"
								converter="genericConverter"
								required="true"
								requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}">
								<f:selectItems
									value="#{registroController.cursos}" var="cursoActual"
									itemLabel="#{cursoActual.nombre}" itemValue="#{cursoActual.id}" />
							</p:selectOneMenu>
							<p:message for="alumno_curso_futuro" />
						</h:panelGroup>
	
						<h:outputLabel for="alumno_subgrupo"
							styleClass="titleFieldRequired"
							value="#{res['alumno.subgrupo']}:" escape="false" />
						<h:panelGrid columns="2">
							<p:selectOneButton id="alumno_subgrupo"
								styleClass="fieldInputRequired"
								value="#{alumno.subgrupo}"
								converter="genericConverter"
								required="true"
								requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}">
								<f:selectItems value="#{registroController.subgrupos}" var="subgrupo"
									itemLabel="#{subgrupo.nombre}" itemValue="#{subgrupo.cod}" />
							</p:selectOneButton>
							<p:message for="alumno_subgrupo" />
						</h:panelGrid>
	
						<h:outputLabel for="alumno_optativas"
							styleClass="titleFieldRequired"
							value="#{res['alumno.optativas']}:" escape="false" />
						<h:panelGrid columns="2">
							<p:selectOneButton id="alumno_optativas"
								styleClass="fieldInputRequired"
								value="#{alumno.optativas}"
								converter="javax.faces.Boolean"
								required="true"
								requiredMessage="#{res['javax.faces.component.UIInput.REQUIRED']}">
								<f:selectItem itemLabel="#{res['si']}" itemValue="true" />
								<f:selectItem itemLabel="#{res['no']}" itemValue="false" />
							</p:selectOneButton>
							<p:message for="alumno_optativas" />
						</h:panelGrid>
					</h:panelGrid>
				</p:panel>
			</p:dataList>

			<p:commandButton value="#{res['datos_socio.submit']}"
				actionListener="#{loginController.editarDatosSocio()}" escape="false"
				update="growl" style="margin-top:10px;" />
		</h:form>
	</ui:define>
</ui:composition>